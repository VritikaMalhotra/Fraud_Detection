# ─── Service Configuration ────────────────────────────────────────────
spring.application.name=alerts-service
server.port=8083

# ─── Kafka Configuration ──────────────────────────────────────────────
spring.kafka.bootstrap-servers=localhost:9094
spring.kafka.consumer.group-id=alerts-service
spring.kafka.consumer.auto-offset-reset=latest
spring.kafka.consumer.enable-auto-commit=false
spring.kafka.listener.ack-mode=manual

# Kafka topics
app.topics.decisions=fraud.decisions

# ─── Alerts Configuration ─────────────────────────────────────────────
# Which decisions to alert on (comma-separated: ALLOW, REVIEW, BLOCK)
app.alerts.decisions=REVIEW,BLOCK

# Slack webhook configuration
# To get a webhook URL: https://api.slack.com/messaging/webhooks
# Leave empty to disable Slack alerts (will just log)
app.alerts.slack.webhook-url=

# Alert deduplication window (prevent duplicate alerts for same transaction)
app.alerts.slack.dedupe-window=5m

# Slack HTTP timeout
app.alerts.slack.timeout=5s

# ─── Actuator & Metrics ───────────────────────────────────────────────
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=always

# ─── Logging ──────────────────────────────────────────────────────────
logging.level.com.fraud.alerts=INFO
logging.level.org.apache.kafka=WARN
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
